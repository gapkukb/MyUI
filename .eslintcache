[{"C:\\workspace\\ui\\src\\index.tsx":"1","C:\\workspace\\ui\\src\\reportWebVitals.ts":"2","C:\\workspace\\ui\\src\\App.tsx":"3","C:\\workspace\\ui\\src\\package\\carousel\\index.ts":"4","C:\\workspace\\ui\\src\\package\\carousel\\carousel-item.tsx":"5","C:\\workspace\\ui\\src\\package\\carousel\\carousel.tsx":"6","C:\\workspace\\ui\\src\\util\\element.ts":"7","C:\\workspace\\ui\\src\\util\\bem.ts":"8","C:\\workspace\\ui\\src\\util\\unit.ts":"9","C:\\workspace\\ui\\src\\util\\type.ts":"10","C:\\workspace\\ui\\src\\util\\global.ts":"11","C:\\workspace\\ui\\src\\util\\regexp.ts":"12","C:\\workspace\\ui\\src\\util\\index.ts":"13","C:\\workspace\\ui\\src\\package\\carousel\\context.ts":"14","C:\\workspace\\ui\\src\\package\\tab\\index.ts":"15","C:\\workspace\\ui\\src\\package\\tab\\pane.tsx":"16","C:\\workspace\\ui\\src\\package\\tab\\tab.tsx":"17"},{"size":522,"mtime":1612852629152,"results":"18","hashOfConfig":"19"},{"size":440,"mtime":1612460464033,"results":"20","hashOfConfig":"19"},{"size":505,"mtime":1613890572431,"results":"21","hashOfConfig":"19"},{"size":2460,"mtime":1613744859841,"results":"22","hashOfConfig":"19"},{"size":1661,"mtime":1613812581464,"results":"23","hashOfConfig":"19"},{"size":5299,"mtime":1613813178362,"results":"24","hashOfConfig":"19"},{"size":1388,"mtime":1613215598693,"results":"25","hashOfConfig":"19"},{"size":919,"mtime":1612852215479,"results":"26","hashOfConfig":"19"},{"size":338,"mtime":1613736584460,"results":"27","hashOfConfig":"19"},{"size":1828,"mtime":1613266652038,"results":"28","hashOfConfig":"19"},{"size":491,"mtime":1613268464326,"results":"29","hashOfConfig":"19"},{"size":476,"mtime":1612460464046,"results":"30","hashOfConfig":"19"},{"size":1361,"mtime":1613606332494,"results":"31","hashOfConfig":"19"},{"size":88,"mtime":1613812112677,"results":"32","hashOfConfig":"19"},{"size":70,"mtime":1613880726454,"results":"33","hashOfConfig":"19"},{"size":579,"mtime":1613885470382,"results":"34","hashOfConfig":"19"},{"size":1857,"mtime":1613891565801,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},"gsctrs",{"filePath":"39","messages":"40","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"41","messages":"42","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"43","messages":"44","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"38"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50","usedDeprecatedRules":"38"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"53"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"38"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"72","messages":"73","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"C:\\workspace\\ui\\src\\index.tsx",[],["74","75"],"C:\\workspace\\ui\\src\\reportWebVitals.ts",[],"C:\\workspace\\ui\\src\\App.tsx",["76"],"C:\\workspace\\ui\\src\\package\\carousel\\index.ts",[],"C:\\workspace\\ui\\src\\package\\carousel\\carousel-item.tsx",["77","78","79","80","81","82","83"],"import { Children, cloneElement, CSSProperties, FC, ReactElement, ReactNode } from \"react\";\r\nimport { filterByComponentName } from \"../../util/element\";\r\nimport { classnames } from \"../../util/bem\";\r\nimport { type } from \"../../util/type\";\r\nimport Context from \"./context\";\r\nimport { fixUnit } from \"../../util/unit\";\r\n\r\ntype Spacings = Spacing | Template<Spacing, Spacing>;\r\ntype SpacingIntersect = Spacings | { [key in Spacing]?: Spacings };\r\n\r\nexport type CarouselItemProps = Partial<{\r\n  /* 添加类名 */\r\n  tag: keyof JSX.IntrinsicElements;\r\n  className: string;\r\n  style: CSSProperties;\r\n  to: string;\r\n  href: string;\r\n}>;\r\n\r\ntype privateProps = {\r\n  active: number;\r\n  selfIndex: number;\r\n  total: number;\r\n  duplicate: boolean;\r\n};\r\nexport const CarouselItem: FC<CarouselItemProps> = ({\r\n  to,\r\n  href,\r\n  tag: div = to === undefined ? (href === undefined ? \"div\" : \"a\") : \"link\",\r\n  className,\r\n  style,\r\n  children,\r\n  ...props\r\n}) => {\r\n  const { active = 0, selfIndex, total, duplicate } = props as privateProps;\r\n\r\n  const classes = classnames(\"carousel__item\", \"carousel__item--\" + selfIndex, {\r\n    \"carousel__item--prev\": selfIndex === active - 1,\r\n    \"carousel__item--active\": selfIndex === active,\r\n    \"carousel__item--next\": selfIndex === active + 1,\r\n    \"carousel__item--duplicate\": duplicate,\r\n  });\r\n\r\n  return (\r\n    <Context.Consumer>\r\n      {(value) => (\r\n        <div className={classes} role=\"group\" aria-label={`${selfIndex}/${total}`} style={{ width: fixUnit() }}>\r\n          {children}\r\n        </div>\r\n      )}\r\n    </Context.Consumer>\r\n  );\r\n};\r\nCarouselItem.displayName = CarouselItem.name;\r\nexport default CarouselItem;\r\n","C:\\workspace\\ui\\src\\package\\carousel\\carousel.tsx",["84","85","86","87","88","89","90"],"import {\r\n  Children,\r\n  cloneElement,\r\n  createContext,\r\n  FC,\r\n  ReactNode,\r\n  TransitionEvent,\r\n  useContext,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { fixUnit } from \"../../util/unit\";\r\nimport { CarouselItem } from \"./carousel-item\";\r\nimport { CarouselProps } from \".\";\r\nimport { classnames } from \"../../util/bem\";\r\nimport Context from \"./context\";\r\n\r\nexport const Carousel: FC<CarouselProps> = ({\r\n  width,\r\n  height,\r\n  duration = 500,\r\n  navigable = true,\r\n  active: _active = 0,\r\n  autoplay = true,\r\n  loopable = true,\r\n  interval: _interval = 4000,\r\n  panable = true,\r\n  indicatory,\r\n  indicatorByHover,\r\n  frame = 24,\r\n  gap,\r\n  views = 1,\r\n  stopWhenHover = true,\r\n  vertical,\r\n  className,\r\n  style,\r\n  children,\r\n}) => {\r\n  /* variables */\r\n  const track = useRef<HTMLDivElement>(null);\r\n  const outer = useRef<HTMLDivElement>(null);\r\n  const count = Children.count(children);\r\n  const interval = +_interval;\r\n  const throttle = 1000 / +frame;\r\n\r\n  let timer: any = 0;\r\n  let avalidWidth = 0;\r\n  let [active, setActive] = useState(+_active);\r\n  let [silent, setSilent] = useState(false);\r\n  let [px, setPX] = useState({ width: 0, height: 0 });\r\n\r\n  let enctype = Children.toArray(children).map((child: any, index) => {\r\n    if (child.type && child.type.name === CarouselItem.name) {\r\n      return cloneElement(child, { active, index, total: count, gap, views, avalidWidth });\r\n    }\r\n    return null;\r\n  });\r\n  let pressed = false;\r\n  let lastTimestamp = Date.now();\r\n  let lastPageX = 0;\r\n\r\n  if (loopable && count > 1) {\r\n    // let last: any = enctype[count - 1];\r\n    // enctype.push(cloneElement(enctype[0] as any, { key: -1, duplicate: true }));\r\n    // enctype.unshift(cloneElement(last, { key: -2, duplicate: true }));\r\n  }\r\n  /* handlers */\r\n  function dragHandle(e: PointerEvent) {\r\n    switch (e.type) {\r\n      case \"pointerdown\":\r\n        pressed = true;\r\n        lastPageX = e.pageX;\r\n        track.current!.style.transitionDuration = \"0ms\";\r\n        break;\r\n      case \"pointermove\":\r\n        let now = Date.now();\r\n        if (!pressed || now - lastTimestamp < throttle) return;\r\n        lastTimestamp = now;\r\n        console.log(e);\r\n        track.current!.style.transform = `translate3d(${e.pageX - lastPageX}px, 0, 0)`;\r\n        break;\r\n      default:\r\n        pressed = false;\r\n        track.current!.style.transitionDuration = fixUnit(duration, \"ms\");\r\n    }\r\n  }\r\n  function complete(e: TransitionEvent) {\r\n    if (active === -1) {\r\n      setSilent(true);\r\n      active = count - 1;\r\n    } else if (active === count) {\r\n      setSilent(true);\r\n      active = 0;\r\n    } else {\r\n      setSilent(false);\r\n    }\r\n    console.log(`animated done`);\r\n  }\r\n  function translate() {\r\n    track.current!.style.cssText = `transition-duration:${fixUnit(\r\n      silent ? 0 : duration,\r\n      \"ms\"\r\n    )};transform:translate3d(-${avalidWidth * active}px, 0, 0)`;\r\n  }\r\n  function dotHandle(e: any) {\r\n    setActive(Number((e.target as HTMLLIElement).dataset.index));\r\n  }\r\n  function prevHandle() {\r\n    setActive(active - 1);\r\n  }\r\n  function nextHandle() {\r\n    setActive(active + 1);\r\n  }\r\n  function pause() {\r\n    clearTimeout(timer);\r\n  }\r\n  function play() {\r\n    timer = setTimeout(() => {\r\n      setActive(active + 1);\r\n      play();\r\n    }, interval);\r\n  }\r\n  useEffect(translate, [active]);\r\n  useEffect(function () {\r\n    setPX({ width: outer.current!.offsetWidth, height: outer.current!.offsetHeight });\r\n    play();\r\n  }, []);\r\n\r\n  /* props */\r\n  const outerProps = {\r\n    className: classnames(\"carousel\"),\r\n    style: {\r\n      width: fixUnit(px.width || width),\r\n      height: fixUnit(px.height || height),\r\n    },\r\n    onMouseEnter: pause,\r\n    onMouseLeave: play,\r\n    ref: outer,\r\n  };\r\n  const trackProps = {\r\n    className: \"carousel__track\",\r\n    ref: track,\r\n  };\r\n  const prevProps = {\r\n    className: \"carousel__ctrl prev\",\r\n    disabled: !loopable && active === 0,\r\n    onClick: prevHandle,\r\n  };\r\n  const nextProps = {\r\n    className: \"carousel__ctrl next\",\r\n    disabled: !loopable && active === count - 1,\r\n    onClick: nextHandle,\r\n  };\r\n  const indicatorProps = (index: number) => ({\r\n    \"className\": active === index ? \"active\" : undefined,\r\n    \"data-index\": index,\r\n    \"key\": index,\r\n    [indicatorByHover ? \"onMouseEnter\" : \"onClick\"]: dotHandle,\r\n  });\r\n\r\n  // 如果无缝循环播放，那么需要处理收尾的边界情况\r\n  if (loopable) Object.assign(trackProps, { onTransitionEnd: complete });\r\n  // if (draggable)\r\n  //   Object.assign(outerProps, {\r\n  //     onPointerDown: dragHandle,\r\n  //     onPointerMove: dragHandle,\r\n  //     onPointerUp: dragHandle,\r\n  //     onPointerCancel: dragHandle,\r\n  //   });\r\n\r\n  return (\r\n    <Context.Provider value={{ viewWidth: px.width }}>\r\n      <div aria-live=\"polite\" {...outerProps}>\r\n        <div {...trackProps}>{enctype}</div>\r\n        <ol className=\"carousel__indicator\">\r\n          {new Array(count).fill(0).map((_, index) => (\r\n            <li {...indicatorProps(index)}></li>\r\n          ))}\r\n        </ol>\r\n        {navigable && <button {...prevProps}></button>}\r\n        {navigable && <button {...nextProps}></button>}\r\n      </div>\r\n    </Context.Provider>\r\n  );\r\n};\r\nCarousel.displayName = Carousel.name;\r\nexport default Carousel;\r\n","C:\\workspace\\ui\\src\\util\\element.ts",[],["91","92"],"C:\\workspace\\ui\\src\\util\\bem.ts",[],"C:\\workspace\\ui\\src\\util\\unit.ts",[],"C:\\workspace\\ui\\src\\util\\type.ts",[],"C:\\workspace\\ui\\src\\util\\global.ts",[],"C:\\workspace\\ui\\src\\util\\regexp.ts",[],"C:\\workspace\\ui\\src\\util\\index.ts",[],"C:\\workspace\\ui\\src\\package\\carousel\\context.ts",[],"C:\\workspace\\ui\\src\\package\\tab\\index.ts",[],"C:\\workspace\\ui\\src\\package\\tab\\pane.tsx",[],"C:\\workspace\\ui\\src\\package\\tab\\tab.tsx",["93","94","95","96"],{"ruleId":"97","replacedBy":"98"},{"ruleId":"99","replacedBy":"100"},{"ruleId":"101","severity":1,"message":"102","line":1,"column":17,"nodeType":"103","messageId":"104","endLine":1,"endColumn":23},{"ruleId":"101","severity":1,"message":"105","line":1,"column":10,"nodeType":"103","messageId":"104","endLine":1,"endColumn":18},{"ruleId":"101","severity":1,"message":"106","line":1,"column":20,"nodeType":"103","messageId":"104","endLine":1,"endColumn":32},{"ruleId":"101","severity":1,"message":"107","line":1,"column":53,"nodeType":"103","messageId":"104","endLine":1,"endColumn":65},{"ruleId":"101","severity":1,"message":"108","line":1,"column":67,"nodeType":"103","messageId":"104","endLine":1,"endColumn":76},{"ruleId":"101","severity":1,"message":"109","line":2,"column":10,"nodeType":"103","messageId":"104","endLine":2,"endColumn":31},{"ruleId":"101","severity":1,"message":"110","line":4,"column":10,"nodeType":"103","messageId":"104","endLine":4,"endColumn":14},{"ruleId":"101","severity":1,"message":"111","line":9,"column":6,"nodeType":"103","messageId":"104","endLine":9,"endColumn":22},{"ruleId":"101","severity":1,"message":"112","line":4,"column":3,"nodeType":"103","messageId":"104","endLine":4,"endColumn":16},{"ruleId":"101","severity":1,"message":"108","line":6,"column":3,"nodeType":"103","messageId":"104","endLine":6,"endColumn":12},{"ruleId":"101","severity":1,"message":"113","line":8,"column":3,"nodeType":"103","messageId":"104","endLine":8,"endColumn":13},{"ruleId":"101","severity":1,"message":"114","line":10,"column":3,"nodeType":"103","messageId":"104","endLine":10,"endColumn":18},{"ruleId":"101","severity":1,"message":"115","line":70,"column":12,"nodeType":"103","messageId":"104","endLine":70,"endColumn":22},{"ruleId":"116","severity":1,"message":"117","line":125,"column":24,"nodeType":"118","endLine":125,"endColumn":32,"suggestions":"119"},{"ruleId":"116","severity":1,"message":"120","line":129,"column":6,"nodeType":"118","endLine":129,"endColumn":8,"suggestions":"121"},{"ruleId":"97","replacedBy":"122"},{"ruleId":"99","replacedBy":"123"},{"ruleId":"101","severity":1,"message":"124","line":1,"column":60,"nodeType":"103","messageId":"104","endLine":1,"endColumn":69},{"ruleId":"125","severity":1,"message":"126","line":31,"column":14,"nodeType":"103","messageId":"127","endLine":31,"endColumn":31},{"ruleId":"101","severity":1,"message":"128","line":40,"column":9,"nodeType":"103","messageId":"104","endLine":40,"endColumn":15},{"ruleId":"101","severity":1,"message":"129","line":40,"column":17,"nodeType":"103","messageId":"104","endLine":40,"endColumn":26},"no-native-reassign",["130"],"no-negated-in-lhs",["131"],"@typescript-eslint/no-unused-vars","'useRef' is defined but never used.","Identifier","unusedVar","'Children' is defined but never used.","'cloneElement' is defined but never used.","'ReactElement' is defined but never used.","'ReactNode' is defined but never used.","'filterByComponentName' is defined but never used.","'type' is defined but never used.","'SpacingIntersect' is defined but never used.","'createContext' is defined but never used.","'useContext' is defined but never used.","'useLayoutEffect' is defined but never used.","'dragHandle' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'avalidWidth', 'duration', and 'silent'. Either include them or remove the dependency array.","ArrayExpression",["132"],"React Hook useEffect has a missing dependency: 'play'. Either include it or remove the dependency array.",["133"],["130"],["131"],"'useEffect' is defined but never used.","@typescript-eslint/no-redeclare","'Tab' is already defined.","redeclared","'active' is assigned a value but never used.","'setActive' is assigned a value but never used.","no-global-assign","no-unsafe-negation",{"desc":"134","fix":"135"},{"desc":"136","fix":"137"},"Update the dependencies array to be: [active, avalidWidth, duration, silent]",{"range":"138","text":"139"},"Update the dependencies array to be: [play]",{"range":"140","text":"141"},[3356,3364],"[active, avalidWidth, duration, silent]",[3501,3503],"[play]"]